{"ast":null,"code":"import io from 'socket.io-client';\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\nclass SocketService {\n  constructor() {\n    this.socket = null;\n    this.connected = false;\n  }\n  connect(token) {\n    if (this.socket) {\n      this.disconnect();\n    }\n    this.socket = io(SOCKET_URL, {\n      auth: {\n        token\n      },\n      transports: ['websocket']\n    });\n    this.socket.on('connect', () => {\n      this.connected = true;\n      console.log('Connected to server');\n    });\n    this.socket.on('disconnect', () => {\n      this.connected = false;\n      console.log('Disconnected from server');\n    });\n    this.socket.on('connect_error', error => {\n      console.error('Connection error:', error);\n      this.connected = false;\n    });\n    return this.socket;\n  }\n  disconnect() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n      this.connected = false;\n    }\n  }\n  on(event, callback) {\n    if (this.socket) {\n      this.socket.on(event, callback);\n    }\n  }\n  off(event, callback) {\n    if (this.socket) {\n      this.socket.off(event, callback);\n    }\n  }\n  emit(event, data) {\n    if (this.socket && this.connected) {\n      this.socket.emit(event, data);\n    }\n  }\n  isConnected() {\n    return this.connected;\n  }\n}\nexport const socketService = new SocketService();","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","SocketService","constructor","socket","connected","connect","token","disconnect","auth","transports","on","console","log","error","event","callback","off","emit","data","isConnected","socketService"],"sources":["D:/Odoo 2/expense-management-app/frontend/src/services/socketService.js"],"sourcesContent":["import io from 'socket.io-client';\r\n\r\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\r\n\r\nclass SocketService {\r\n  constructor() {\r\n    this.socket = null;\r\n    this.connected = false;\r\n  }\r\n\r\n  connect(token) {\r\n    if (this.socket) {\r\n      this.disconnect();\r\n    }\r\n\r\n    this.socket = io(SOCKET_URL, {\r\n      auth: { token },\r\n      transports: ['websocket'],\r\n    });\r\n\r\n    this.socket.on('connect', () => {\r\n      this.connected = true;\r\n      console.log('Connected to server');\r\n    });\r\n\r\n    this.socket.on('disconnect', () => {\r\n      this.connected = false;\r\n      console.log('Disconnected from server');\r\n    });\r\n\r\n    this.socket.on('connect_error', (error) => {\r\n      console.error('Connection error:', error);\r\n      this.connected = false;\r\n    });\r\n\r\n    return this.socket;\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socket) {\r\n      this.socket.disconnect();\r\n      this.socket = null;\r\n      this.connected = false;\r\n    }\r\n  }\r\n\r\n  on(event, callback) {\r\n    if (this.socket) {\r\n      this.socket.on(event, callback);\r\n    }\r\n  }\r\n\r\n  off(event, callback) {\r\n    if (this.socket) {\r\n      this.socket.off(event, callback);\r\n    }\r\n  }\r\n\r\n  emit(event, data) {\r\n    if (this.socket && this.connected) {\r\n      this.socket.emit(event, data);\r\n    }\r\n  }\r\n\r\n  isConnected() {\r\n    return this.connected;\r\n  }\r\n}\r\n\r\nexport const socketService = new SocketService();"],"mappings":"AAAA,OAAOA,EAAE,MAAM,kBAAkB;AAEjC,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB;AAE9E,MAAMC,aAAa,CAAC;EAClBC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,SAAS,GAAG,KAAK;EACxB;EAEAC,OAAOA,CAACC,KAAK,EAAE;IACb,IAAI,IAAI,CAACH,MAAM,EAAE;MACf,IAAI,CAACI,UAAU,CAAC,CAAC;IACnB;IAEA,IAAI,CAACJ,MAAM,GAAGP,EAAE,CAACC,UAAU,EAAE;MAC3BW,IAAI,EAAE;QAAEF;MAAM,CAAC;MACfG,UAAU,EAAE,CAAC,WAAW;IAC1B,CAAC,CAAC;IAEF,IAAI,CAACN,MAAM,CAACO,EAAE,CAAC,SAAS,EAAE,MAAM;MAC9B,IAAI,CAACN,SAAS,GAAG,IAAI;MACrBO,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACpC,CAAC,CAAC;IAEF,IAAI,CAACT,MAAM,CAACO,EAAE,CAAC,YAAY,EAAE,MAAM;MACjC,IAAI,CAACN,SAAS,GAAG,KAAK;MACtBO,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACzC,CAAC,CAAC;IAEF,IAAI,CAACT,MAAM,CAACO,EAAE,CAAC,eAAe,EAAGG,KAAK,IAAK;MACzCF,OAAO,CAACE,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC,IAAI,CAACT,SAAS,GAAG,KAAK;IACxB,CAAC,CAAC;IAEF,OAAO,IAAI,CAACD,MAAM;EACpB;EAEAI,UAAUA,CAAA,EAAG;IACX,IAAI,IAAI,CAACJ,MAAM,EAAE;MACf,IAAI,CAACA,MAAM,CAACI,UAAU,CAAC,CAAC;MACxB,IAAI,CAACJ,MAAM,GAAG,IAAI;MAClB,IAAI,CAACC,SAAS,GAAG,KAAK;IACxB;EACF;EAEAM,EAAEA,CAACI,KAAK,EAAEC,QAAQ,EAAE;IAClB,IAAI,IAAI,CAACZ,MAAM,EAAE;MACf,IAAI,CAACA,MAAM,CAACO,EAAE,CAACI,KAAK,EAAEC,QAAQ,CAAC;IACjC;EACF;EAEAC,GAAGA,CAACF,KAAK,EAAEC,QAAQ,EAAE;IACnB,IAAI,IAAI,CAACZ,MAAM,EAAE;MACf,IAAI,CAACA,MAAM,CAACa,GAAG,CAACF,KAAK,EAAEC,QAAQ,CAAC;IAClC;EACF;EAEAE,IAAIA,CAACH,KAAK,EAAEI,IAAI,EAAE;IAChB,IAAI,IAAI,CAACf,MAAM,IAAI,IAAI,CAACC,SAAS,EAAE;MACjC,IAAI,CAACD,MAAM,CAACc,IAAI,CAACH,KAAK,EAAEI,IAAI,CAAC;IAC/B;EACF;EAEAC,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACf,SAAS;EACvB;AACF;AAEA,OAAO,MAAMgB,aAAa,GAAG,IAAInB,aAAa,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}